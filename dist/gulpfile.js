"use strict";var _require=require("gulp"),src=_require.src,dest=_require.dest,task=_require.task,series=_require.series,watch=_require.watch,parallel=_require.parallel,rm=require("gulp-rm"),sass=require("gulp-sass")(require("sass")),browserSync=require("browser-sync").create(),reload=browserSync.reload,sassGlob=require("gulp-sass-glob"),autoprefixer=require("gulp-autoprefixer"),gcmq=require("gulp-group-css-media-queries"),cleanCSS=require("gulp-clean-css"),babel=(sourcemaps=require("gulp-sourcemaps"),require("gulp-babel")),uglify=require("gulp-uglify"),gulpif=require("gulp-if"),env=process.env.NODE_ENV;task("clean",function(){return src("dist/**/*",{read:!1}).pipe(rm())}),task("copy:html",function(){return src("*.html").pipe(dest("dist"))}),task("copy:pictures",function(){return src("pictures/**/*").pipe(dest("dist/pictures"))}),task("copy:scss",function(){return src("src/**/*.scss").pipe(dest("dist")).pipe(reload({stream:!0}))}),task("styles",function(){return src("src/main.scss").pipe(gulpif("dev"===env,sourcemaps.init())).pipe(sassGlob({ignorePath:["./settings/media.scss"]})).pipe(sass().on("error",sass.logError)).pipe(gulpif("prod"===env,autoprefixer({cascade:!1}))).pipe(gulpif("prod"===env,gcmq())).pipe(gulpif("prod"===env,cleanCSS())).pipe(gulpif("dev"===env,sourcemaps.write())).pipe(dest("dist")).pipe(reload({stream:!0}))}),task("scripts",function(){return src("*.js").pipe(gulpif("prod"===env,babel({presets:["@babel/preset-env"]}))).pipe(gulpif("prod"===env,uglify())).pipe(dest("dist")).pipe(reload({stream:!0}))}),task("server",function(){browserSync.init({server:{baseDir:"./dist"},open:!1})}),task("watch",function(){watch("./src/**/*.scss",series("styles")),watch("./*.html",series("copy:html")),watch("./*.js",series("scripts"))}),task("default",series("clean",parallel("copy:html","copy:scss","copy:pictures","scripts","styles"),parallel("watch","server"))),task("build",series("clean",parallel("copy:html","copy:scss","copy:pictures","scripts","styles")));